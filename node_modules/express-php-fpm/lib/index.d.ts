/// <reference types="node" />
import { NextFunction, Request, Response } from "express";
import { NetConnectOpts } from "net";
export declare type KeyValue = {
    [i: string]: string | number;
};
export declare type Options = {
    documentRoot: string;
    env: KeyValue;
    socketOptions: NetConnectOpts;
};
export default function init(opt: Options): import("express-serve-static-core").Router;
export declare class Handler {
    opt: Options;
    connections: any[];
    router: import("express-serve-static-core").Router;
    constructor(opt: Options);
    handle(req: Request, res: Response, next: NextFunction): void;
    getFreeReqId(): number;
    freeUpReqId(reqId: number): void;
}
