<!DOCTYPE html>
<html>
<head>
	<title>AB</title>
	<%- include('head.ejs') %>
</head>
<body  ng-app="myModuleHomeDb" ng-controller="myControllerHomeDb" ng-init=detectmob()>
	
	<div class="headerTab" id='myDIV' style="background-color:black;"><!-- CKA-10/02/19-Added id -->
		<%- include('searchBar.ejs') %>
	</div>

	<script>
		// CKA-10/02/19--Add active class to the current button (highlight it)
		var header = document.getElementById("myDIV");
		var btns = header.getElementsByClassName("btn");
		var count = btns.length;
		for (var i = 0; i < count; i++) {
		  btns[i].addEventListener("click", function() {
		  var current = document.getElementsByClassName("active");
		  current[0].className = current[0].className.replace(" active", "");
		  this.className += " active";
		  });
		}
	</script>
	
	<div id="MEN" class="headerTabcontent">
		<div id="headerMEN"><%- include('headerMEN.ejs') %></div>
		<div id="sideNavMobileMEN"><%- include('sideNavMobile.ejs') %></div>

	</div>
	<div id="WOMEN" class="headerTabcontent">
		<div id="headerWOMEN"><%- include('headerWOMEN.ejs') %></div>
		<div id="sideNavMobileWOMEN"><%- include('sideNavMobile.ejs') %></div>
	</div>

	<div class="clothingPhotos" id="clothingPhotos" >
		helloworld  {{50+50}} {{t}}
		<div class="clothingAutowide">
			<div class="clothingModule" ng-repeat="x in records track by $index" >
				<div class="showProductInDetail" role="button"> 
					<img src="{{x}}" alt="" />
					<p class="productTitle">T-shirts from Mauritius.</p>
					<p class="productPrice">Rs 120.00</p>
				</div>				
			</div>
		</div>
	</div>
	
	<%- include('bottomJavaScriptLink.ejs') %>
	<script type="text/javascript">

		var app = angular.module("myModuleHomeDb", []);
		app.controller("myControllerHomeDb", function($scope) {
			$scope.records = [
				"uploads/AB03.png",
				//"uploads/ABW01.png",
				"uploads/AB03.png",
				"uploads/AB04.png",
				"uploads/AB05.png",
				"uploads/AB03.png",
				"uploads/AB04.png",
				"uploads/AB05.png",
				"uploads/AB03.png",
				"uploads/AB04.png",
				"uploads/AB04.png",
				"uploads/AB05.png",
				"uploads/AB03.png",
				"uploads/AB03.png",
			];

			$scope.recordsWomen = [
				"uploads/ABW01.png",
				"uploads/ABW02.png",
				"uploads/ABW03.png",
				"uploads/ABW04.png",
				"uploads/ABW05.png",
				"uploads/ABW01.png",
				"uploads/ABW02.png",
				"uploads/ABW03.png",
				"uploads/ABW04.png",
				"uploads/ABW05.png",
				"uploads/ABW01.png",
				"uploads/ABW02.png",
				"uploads/ABW03.png",
				
			];

			$scope.detectmob = function() { 
				if( navigator.userAgent.match(/Android/i)
					|| navigator.userAgent.match(/webOS/i)
					|| navigator.userAgent.match(/iPhone/i)
					|| navigator.userAgent.match(/iPad/i)
					|| navigator.userAgent.match(/iPod/i)
					|| navigator.userAgent.match(/BlackBerry/i)
					|| navigator.userAgent.match(/Windows Phone/i)
					){//mobile
					$scope.styleColumn = "";
				}
				else {//computer
					$scope.styleColumn = "";
				
				}
			}

			$(document).ready(function(){
				$('.showProductInDetail').click(function(e) { 
					alert("goog");
				});
			});
			

			var x = window.matchMedia("(max-width: 767px)");
			myFunction(x); // Call listener function at run time
			x.addListener(myFunction);

			function myFunction(x) {
			if (x.matches) { // If media query matches
				if(document.getElementById("MEN").style.display == "block"){
					//alert("men min");
					document.getElementById("sideNavMobileMEN").style = "visibility: visible";
					document.getElementById("headerMEN").style = "visibility: hidden";
				}
				else if(document.getElementById("WOMEN").style.display == "block"){
					//alert("women min");
					document.getElementById("sideNavMobileWOMEN").style = "visibility: visible";
					document.getElementById("headerWOMEN").style = "visibility: hidden";
				}
			} 
			else {
				if(document.getElementById("MEN").style.display == "block"){
					//alert("men max");
					document.getElementById("headerMEN").style = "visibility: visible";
					document.getElementById("sideNavMobileMEN").style = "visibility: hidden";
				}
				else if(document.getElementById("WOMEN").style.display == "block"){
					//alert("women max");
					document.getElementById("headerWOMEN").style = "visibility: visible";
					document.getElementById("sideNavMobileWOMEN").style = "visibility: hidden";
				}	
			}
		}

			$scope.openHeader = function(evt, gender) { 
				var i, tabcontent, tablinks;
				tabcontent = document.getElementsByClassName("headerTabcontent");
				for (i = 0; i < tabcontent.length; i++) {
					tabcontent[i].style.display = "none";
				}
				tablinks = document.getElementsByClassName("tablinks");
				for (i = 0; i < tablinks.length; i++) {
					tablinks[i].className = tablinks[i].className.replace(" active", "");
				}

				if(document.getElementById(gender).id == "MEN"){
					document.getElementById(gender).style.display = "block";
					if (x.matches) { // If media query matches
						//alert("men min fix");
						document.getElementById("sideNavMobileMEN").style.visibility = "visible";
						document.getElementById("headerMEN").style.visibility = "hidden";
					}
					else{
						//alert("man max fix");
						document.getElementById("headerMEN").style.visibility = "visible";
						document.getElementById("sideNavMobileMEN").style.visibility = "hidden";
					}
				}
				
				else if(document.getElementById(gender).id == "WOMEN"){
					document.getElementById(gender).style.display = "block";
					if (x.matches) { // If media query matches
						if(document.getElementById("MEN").style.display == "block"){
							//alert("men min fix");
							document.getElementById("sideNavMobileMEN").style.visibility = "visible";
							document.getElementById("headerMEN").style.visibility = "hidden";
						}
						else if(document.getElementById("WOMEN").style.display == "block"){
							//alert("women min fix");
							document.getElementById("sideNavMobileWOMEN").style.visibility = "visible";
							document.getElementById("headerWOMEN").style.visibility = "hidden";
						}
					} 
					else {
						if(document.getElementById("MEN").style.display == "block"){
							//alert("men max fix");
							document.getElementById("headerMEN").style.visibility = "visible";
							document.getElementById("sideNavMobileMEN").style.visibility = "hidden";
						}
						else if(document.getElementById("WOMEN").style.display == "block"){
							//alert("women max fix");
							document.getElementById("headerWOMEN").style.visibility = "visible";
							document.getElementById("sideNavMobileWOMEN").style.visibility = "hidden";
						}	
					}
				}
				evt.currentTarget.className += " active";

			}
			
		});

	</script>
	
</body>
</html>